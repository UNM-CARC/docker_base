# This is a Spack Environment file.
#
# It describes a set of packages to be installed, along with
# configuration settings.

spack:
  mirrors: {}
  modules:
    enable: []
  repos: []
  packages:
    all:
      variants: [+mpi]
      compiler: [gcc@8.3.1]
      target: [ivybridge]  # Ideally his would be knl or skylake-avx512 
                         # but spack doesn't yet cross-build correctly 
                         # and so some of the tools it builds would fail
                         # if we used that. ivybridge is still old enough that
                         # remote builders will work with it.
      providers:
        mpi: [mvapich2]
    openmpi:
      variants: [+thread_multiple fabrics=ucx]
    mvapich2:
      variants: [fabrics=mrail]
  config:
    install_tree: /opt/software
  specs: 
    - mvapich2
  view:
    default:
      root: /usr/local
  concretization: together
